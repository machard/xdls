/*! xdls - v0.0.0 - 2014-04-03
* http://www.youtube.com/watch?v=cDuG95DXbw8
* Copyright (c) 2014 Obi-Wan Kenobi; Licensed  */
"use strict";!function(){function a(){i.addEventListener?i.addEventListener("message",c,!1):i.attachEvent&&i.attachEvent("onmessage",c),h({ready:!0},"*")}function b(a){for(var b=0;b<k.length;b++)if(k[b].test(a))return!0}function c(a){if(b(a.origin)){var c=JSON.parse(a.data);"init"===c.type?h(d(),a.origin):"get"===c.type?h(e(c),a.origin):"set"===c.type?h(f(c),a.origin):"del"===c.type&&h(g(c),a.origin)}}function d(){for(var a,b={},c=0,d=j.length;d>c;++c)try{a=j.key(c),b[a]=j.getItem(a)}catch(e){}return{values:b,init:!0}}function e(a){var b;try{b=j.getItem(a.key)}catch(c){}return{key:a.key,val:b,type:"get",_xds:a._xds}}function f(a){try{j.setItem(a.key,a.val)}catch(b){}return{key:a.key,type:"set",_xds:a._xds}}function g(a){return j.removeItem(a.key),{key:a.key,type:"del",_xds:a._xds}}function h(a,b){a._is_xds=!0,i.parent.postMessage(JSON.stringify(a),b)}for(var i=window,j=i.localStorage,k=i.document.getElementsByTagName("script")[0].getAttribute("data-origins").split(","),l=0;l<k.length;l++)k[l]=new RegExp(k[l],"i");a()}();